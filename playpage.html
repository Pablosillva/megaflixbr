<!DOCTYPE html>
<html lang="pt-br">

<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MegaflixBR</title>
    <!-- Link css -->
    <link rel="stylesheet" href="assets/css/style.css">
    <!-- Fav Icon -->
    <link rel="shortcut icon" href="assets/img/fav-icon.png" type="image/x-icon">
    <!-- Box Icons -->
    <link rel="stylesheet" href="https://unpkg.com/boxicons@2.1.1/css/boxicons.min.css">
</head>

<body>
    <header>
        <div class="nav container">
            <!-- Inicio Logo -->
            <a href="index.html" class="logo">
                Megaflix<span>BR</span>
            </a>
            <!-- Fim Logo -->
            <!-- Inicio Buscar -->
            <div class="search search-box">
                <input type="search" id="search" placeholder="Buscar">
                <i class="bx bx-search"></i>
            </div>
            <!-- Fim Buscar -->
            <a href="#" class="user">
                <img src="assets/img/user.png" alt="" class="user-img">
            </a>
            <!-- Inicio Navbar -->
            <div class="navbar">
                <a href="index.html" class="nav-link nav-active">
                    <i class="bx bx-home"></i>
                    <span class="nav-link-title">Inicio</span>
                </a>
                <a href="#" class="nav-link">
                    <i class="bx bxs-hot"></i>
                    <span class="nav-link-title">Em Alta</span>
                </a>
                <a href="#" class="nav-link">
                    <i class="bx bx-compass"></i>
                    <span class="nav-link-title">Explorar</span>
                </a>
                <a href="#" class="nav-link">
                    <i class="bx bx-tv"></i>
                    <span class="nav-link-title">Filmes</span>
                </a>
                <a href="#" class="nav-link">
                    <i class="bx bx-heart"></i>
                    <span class="nav-link-title">Favoritos</span>
                </a>
            </div>
            <!-- Fim Navbar -->
        </div>
    </header>
    <main>
        <div class="container">
            <div id="SuperFlixAPIContainerVideo"></div>
            <h2 id="filme-title"></h2>
            <p id="filme-sinopse"></p>
            <p id="filme-ano"></p>
        </div>
    </main>


    <!-- Copyright -->
    <div class="copyright">
        <p>&#169; Todos os direitos reservados a MegaflixBR.</p>
    </div>
    <!-- FimCopyright -->

    <!-- <script>
        // Função para obter o parâmetro do ID do filme da URL
        function SuperFlixAPIPluginJS() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('filmeID');
        }

        // Função para carregar o filme do SuperFlix com base no ID do filme da TMDB
        function loadSuperFlixFilm(tmdbId) {
            // Chamada para a API do SuperFlix para carregar o filme com o ID correspondente
            // Aqui você precisa implementar a lógica para carregar o filme do SuperFlix com base no ID fornecido
            // Esta é uma chamada de exemplo para a função SuperFlixAPIPluginJS
            SuperFlixAPIPluginJS("filme", tmdbId, "", "");
        }

        // Carregar o filme do SuperFlix assim que a página for carregada
        window.onload = function() {
            const tmdbId = getFilmIdFromURL();
            if (tmdbId) {
                loadSuperFlixFilm(tmdbId);
            } else {
                console.error("ID do filme não encontrado na URL.");
            }
        };
    </script> -->




    <!-- <script>
        async function getSuperFlixAPIFilm(event) {
            event.preventDefault(); // Evita que o link seja seguido imediatamente
            
            const filmeLink = event.target.closest('.watch-btn').getAttribute('href'); // Obtém o link do filme clicado
            const filmeID = filmeLink.split('=')[1]; // Extrai o ID do filme da URL
            
            try {
                // Faz uma requisição à API do TMDB para obter as informações do filme
                const tmdbResponse = await fetch(`${BASE_URL}/movie/${filmeID}?${API_KEY}`);
                const tmdbData = await tmdbResponse.json();
                
                // Obtém o ID do filme na API do SuperFlixAPI a partir do TMDB ID
                const superFlixAPIResponse = await fetch(`https://superflixapi.top/imdb/${tmdbData.id}`);
                const superFlixAPIData = await superFlixAPIResponse.json();
                const superFlixAPIFilmID = superFlixAPIData.tmdb_id;
                
                // Chama a função para adicionar o embed do filme ao site com o ID do filme do SuperFlixAPI
                SuperFlixAPIPluginJS('filme', superFlixAPIFilmID, '', '');
            } catch (error) {
                console.error('Erro ao obter informações do filme:', error);
            }
        }
        
    </script> -->

    <script>
        var type = "filme"; // Tipo de conteúdo: "filme" ou "serie"
        var tmdb = getParameterByName('filmeID'); // ID do IMDB do filme
        var season = ""; // Número da temporada (para séries)
        var episode = ""; // Número do episódio (para séries)

        // Função para obter parâmetro da URL
        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, "\\$&");
            var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, " "));
        }

        // Função para mapear o ID do filme da API TMDB para o ID correspondente na API do SuperFlix
        function getSuperFlixIdFromTMDB(tmdbId) {
            // Implemente aqui a lógica para mapear o ID do filme da API TMDB para o ID correspondente na API do SuperFlix
            // Você pode usar um objeto de mapeamento manual ou consultar uma fonte externa para obter essa correspondência
            // Se os IDs forem iguais, você pode simplesmente retornar o ID do TMDB como está
            return tmdbId;
        }

        // Função para adicionar o embed do filme ou série ao site
        function SuperFlixAPIPluginJS(type, tmdb, season, episode) {
            if (type == "filme") {
                season = "";
                episode = "";
            } else {
                if (season !== "") {
                    season = "/" + season;
                }
                if (episode !== "") {
                    episode = "/" + episode;
                }
            }

            var frame = document.getElementById('SuperFlixAPIContainerVideo');
            frame.innerHTML += '<iframe src="https://superflixapi.top/' + type + '/' + tmdb + season + episode + '" width="100%" height="600px" scrolling="no" frameborder="0" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>';
        }

        // Chamar a função para adicionar o embed do filme ou série ao site
        var superFlixId = getSuperFlixIdFromTMDB(tmdb);
        SuperFlixAPIPluginJS(type, superFlixId, season, episode);
    </script>
    <!-- Link Js -->
    <script src="assets/js/main.js"></script>
    <script src="assets/js/swiper-bundle.min.js"></script>
    <script src="assets/js/script.js"></script>
</body>

</html>